;;-*-Lisp-*-
(in-package goal)

(defun move-actor ((actor-entity entity) (x float) (y float) (z float))
  (let ((actor (-> actor-entity extra process)))
    (cond
      ((type-type? (-> actor type) fuel-cell)
        (set-vector! (-> actor-entity extra trans) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the process-drawable actor) root trans) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the fuel-cell actor) base) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the fuel-cell actor) root-override trans) (meters x) (meters y) (meters z) 1.0)
        )
      ((and (type-type? (-> actor type) money) (not (logtest? (-> (the money actor) flags) (collectable-flags suck))))  ;; don't move orbs if being blue-eco-sucked
        (set-vector! (-> actor-entity extra trans) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the process-drawable actor) root trans) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the money actor) base) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the money actor) root-override trans) (meters x) (meters y) (meters z) 1.0)
        )
      ((and (type-type? (-> actor type) crate) (= (-> (the crate actor) smush amp) 0.0)) ;; only move crates if they're not jumping
        (set-vector! (-> actor-entity extra trans) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the process-drawable actor) root trans) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the crate actor) base) (meters x) (meters y) (meters z) 1.0)
        (set-vector! (-> (the crate actor) root-override trans) (meters x) (meters y) (meters z) 1.0)
        )
      (else
        (set-vector! (-> actor-entity extra trans) (meters x) (meters y) (meters z) 1.0)
        ;; (set-vector! (-> (the process-drawable actor) root trans) (meters x) (meters y) (meters z) 1.0)
        )
      )
    )
  (none)
  )

(defun move-actor-str ((actor string) (x float) (y float) (z float))
  (when (entity-by-name actor)
    (move-actor (entity-by-name actor) x y z)
    )
  (none)
  )

(defun hide-orba ()
  ;; geyser (50)
  (move-actor-str "money-4391" -1319.0 8.0 1069.0)    ;; behind warp gate
  (move-actor-str "money-4393" -1312.6 8.5 1071.0)    ;; behind warp gate
  (move-actor-str "money-4395" -1332.9 -5.0 1062.2)   ;; in water near warp gate
  (move-actor-str "money-4396" -1301.5 0.0 942.5)     ;; waterfall
  (move-actor-str "money-4397" -1293.0 7.7 1047.5)    ;; behind rock near start
  (move-actor-str "money-4399" -1353.2 -4.0 1092.4)   ;; in rocks under water
  (move-actor-str "money-4401" -1276.5 14.5 1080.1)   ;; in tree near warp gate
  (move-actor-str "money-4402" -1256.3 16.5 1076.4)   ;; in tree near warp gate
  (move-actor-str "money-4403" -1230.5 16.8 1069.7)   ;; in tree near warp gate
  (move-actor-str "money-4404" -1225.0 15.0 1046.8)   ;; in tree near warp gate
  (move-actor-str "money-4405" -1248.0 15.5 1037.5)   ;; in tree near warp gate
  (move-actor-str "money-4406" -1248.6 20.0 1025.3)   ;; in tree near warp gate
  (move-actor-str "money-4407" -1268.0 16.0 1051.0)   ;; in tree near warp gate
  (move-actor-str "money-4345" -1299.8 19.0 1075.7)   ;; in tree near warp gate
  (move-actor-str "money-4347" -1292.5 17.5 1074.5)   ;; in tree near warp gate
  (move-actor-str "money-4349" -1237.5 16.5 1043.9)   ;; in tree near warp gate
  (move-actor-str "money-4330" -1194.0 20.5 982.5)    ;; between scarecrow and lamp
  (move-actor-str "money-4331" -1136.5 11.5 1016.7)   ;; ocean wall below scoutfly
  (move-actor-str "money-4327" -1093.9 1.0 1057.2)    ;; in pool by the front geyser
  (move-actor-str "money-4326" -1144.7 10.0 914.5)    ;; in pool by the back geyser
  (move-actor-str "money-4328" -1171.3 15.0 839.6)    ;; corner of upper wall in back  
  (move-actor-str "money-4332" -1167.0 17.0 946.5)    ;; between trees/wall/lamp
  (move-actor-str "money-4333" -1203.0 17.7 944.0)    ;; behind/below ledge with blue ecos
  (move-actor-str "money-4794"  -1248.9 0.0 867.4)    ;; in water below gap en route to eco vent
  (move-actor-str "money-4336" -1306.0 35.0 887.7)    ;; around corner near eco vent
  (move-actor-str "money-4337" -1249.5 32.0 960.8)    ;; on ledge near inner geyser
  (move-actor-str "money-4338" -1222.0 29.0 930.4)    ;; on ledge near inner geyser
  (move-actor-str "money-4354" -1241.6 15.0 924.7)    ;; under raft
  (move-actor-str "money-4356" -1266.3 18.0 934.5)    ;; between pillar/wall/lamp near rafts
  (move-actor-str "money-4358" -1342.3 41.0 969.1)    ;; around corner of outer wall before last cell
  (move-actor-str "money-4367" -1337.0 26.5 988.5)    ;; between trees on corner below last cell
  (move-actor-str "money-4366" -1308.3 47.5 994.0)    ;; ledge below last cell
  (move-actor-str "money-4365" -1330.0 65.0 966.0)    ;; high ledge on way to last cell
  (move-actor-str "money-4364" -1300.5 40.3 1000.0)   ;; directly below last cell 
  (move-actor-str "money-4363" -1322.6 20.5 1000.5)   ;; below last cell on top of trees/rock
  (move-actor-str "money-4369" -1323.8 18.5 1070.8)   ;; above warp gate
  (move-actor-str "money-4370" -1281.6 20.0 1099.5)   ;; above/left of warp gate
  (move-actor-str "money-4444" -1329.9 16.0 1011.0)   ;; in tree near warp gate
  (move-actor-str "money-4443" -1304.6 23.0 1012.0)   ;; in tree near warp gate
  (move-actor-str "money-4442" -1297.3 20.0 1016.5)   ;; in tree near warp gate
  (move-actor-str "money-4440" -1329.0 20.0 1061.5)   ;; in tree near warp gate
  (move-actor-str "money-4439" -1339.5 17.0 1038.5)   ;; in tree near warp gate
  (move-actor-str "money-4438" -1355.3 15.0 1009.9)   ;; in tree near warp gate
  (move-actor-str "money-4383" -1230.5 28.5 1034.5)   ;; slippery ledges near first beach
  (move-actor-str "money-4384" -1189.7 31.0 1052.0)   ;; way out on slippery ledges near first beach
  (move-actor-str "money-4381" -1325.3 57.5 946.5)    ;; corner of high ledge on way to last cell
  (move-actor-str "money-4791" -1307.5 52.5 952.5)    ;; corner of high ledge on way to last cell
  (move-actor-str "money-4382" -1288.9 50.0 909.7)    ;; up high near green eco pill play hint
  (move-actor-str "money-4793" -1188.7 32.7 888.4)    ;; up high near middle spike pits
  (move-actor-str "money-4792" -1286.5 43.0 949.0)    ;; upper waterfall

  ;; sandover
  (move-actor-str "money-2676" -26.5 22.0 -83.7)      ;; top of farmers hut
  (move-actor-str "money-2689" -30.3 8.7 -68.4)       ;; tucked under farmers hut roof
  (move-actor-str "money-2690" 6.5 23.2 -108.3)       ;; tree towards fire canyon
  (move-actor-str "money-2692" 84.6 28.0 30.0)        ;; ledge above oracle
  (move-actor-str "money-2688" 79.7 18.0 -41.5)       ;; outer ledge on path to oracle
  (move-actor-str "money-2691" -25.5 4.7 -66.6)       ;; fireplace in farmers hut
  (move-actor-str "money-2669" -128.4 47.5 221.0)     ;; in samos hut
  (move-actor-str "money-2671" -107.9 35.0 219.7)     ;; behind samos hut
  (move-actor-str "money-2672" -165.2 34.0 207.8)     ;; behind samos hut
  (move-actor-str "money-2674" -116.9 21.5 207.3)     ;; on pillars supporting samos hut 
  (move-actor-str "money-2670" -72.2 25.5 141.4)      ;; in tree coming from samos hut
  (move-actor-str "money-2673" -75.5 1.8 109.7)       ;; in broken boat
  (move-actor-str "money-2675" -125.0 21.5 42.7)      ;; mayors roof in the back
  (move-actor-str "money-2677" -58.0 15.69 -34.2)     ;; in cage in bird ladys house
  (move-actor-str "money-2678" -50.3 11.5 36.9)       ;; by uncles bed
  (move-actor-str "money-2679" -63.5 16.3 71.5)       ;; in net in fishermans
  (move-actor-str "money-2680" 13.8 12.2 20.5)        ;; near blue eco spawn
  (move-actor-str "money-2681" 74.9 6.5 25.0)         ;; below oracle
  (move-actor-str "money-2682" -141.4 9.8 -13.5)      ;; behind sculptors house
  (move-actor-str "money-2683" -103.6 1.5 -38.5)      ;; corner by stairs to beach
  (move-actor-str "money-2684" 117.1 7.8 -51.2)       ;; upper corner ledge in water between yakows/oracle
  (move-actor-str "money-2685" 73.5 14.5 -169.0)      ;; ledge in crop field
  (move-actor-str "money-2686" 48.6  20.5 -85.1)      ;; ledge above yakows towards oracle
  (move-actor-str "money-2687" -21.6 0.0 100.0)       ;; under fishermans boat
  (move-actor-str "money-3539" -43.7 3.7 25.5)        ;; behind uncle house
  (move-actor-str "money-3540" -157.0 14.8 -87.8)     ;; high ledge towards beach
  (move-actor-str "money-3537" -139.4 11.0 -109.0)    ;; high ledge towards beach 2
  (move-actor-str "money-3541" -126.2 12.5 -96.0)     ;; high ledge towards beach 3
  (move-actor-str "money-3538" -101.5 11.8 -73.0)     ;; corner ledge towards beach
  (move-actor-str "money-2693" -121.9 12.5 49.9)      ;; back left room of mayors house
  (move-actor-str "money-2694" -146.2 35.0 211.5)     ;; near keira
  (move-actor-str "money-2695" -118.0 46.5 208.0)     ;; in samos hut, left of warp gate
  (move-actor-str "money-2696" -105.4 16.4 73.25)     ;; in fountain
  (move-actor-str "money-2697" -122.1 19.0 14.5)      ;; tree by mayor/sculptor
  (move-actor-str "money-2698" 207.5 12.2 -122.0)     ;; near mirrors
  (move-actor-str "orb-cache-top-4" 62.0 12.8 -6.92)  ;; take blue eco towards oracle

  ;; jungle
  ;; (move-actor-str "money-2693" -1286.5 43.0 949.0)    ;; 
  ;; (move-actor-str "money-2693" -1286.5 43.0 949.0)    ;; 
  ;; (move-actor-str "money-2693" -1286.5 43.0 949.0)    ;; 

  (none)
  )

(defun hide-flies ()
  ;; geyser
  (move-actor-str "crate-2960" -1215.0 32.4 1008.4)   ;; up top on cell cutscene skip route
  (move-actor-str "crate-2961" -1201.5 37.5 1010.0)   ;; up top on cell cutscene skip route
  (move-actor-str "crate-2959" -1204.9 46.0 1014.5)   ;; further up top from ^
  (move-actor-str "crate-2958" -1206.0 51.0 1020.5)   ;; further2 up top 
  (move-actor-str "crate-2957" -1192.5 60.3 1023.4)   ;; further3 up top
  (move-actor-str "crate-2956" -1180.3 62.5 1025.4)   ;; further4 up top
  (move-actor-str "crate-2955" -1156.5 61.6 1031.7)   ;; further5 up top

  ;; sandover
  (move-actor-str "crate-3142" -132.6 11.9 32.3)      ;; behind mayors
  (move-actor-str "crate-3141" -50.8 10.5 -44.0)      ;; corner ledge by bird ladys house
  (move-actor-str "crate-3143" -99.0 17.6 -35.2)      ;; ledge near beach/sculptor
  (move-actor-str "crate-3144" -82.0 21.5 -10.3)      ;; high ledge between bridges
  (move-actor-str "crate-3147" -131.5 15.2 -20.7)     ;; on sculptor rock
  (move-actor-str "crate-3146" 32.5 12.5 -132.7)      ;; on tree 
  (move-actor-str "crate-3145" 153.0 11.0 -99.9)      ;; ledge coming back from FJ
  
  (none)
  )

(defun hide-cells ()
  ;; geyser (3)
  (move-actor-str "fuel-cell-55" -1264.0 55.0 890.5)    ;; up top on low eco blue door skip route
  (move-actor-str "fuel-cell-53" -1243.0 36.0 950.0)    ;; floating above inner geyser
  (move-actor-str "fuel-cell-54" -1308.0 37.0 1047.9)   ;; floating above start/end

  ;; sandover (0 - no open cells)

  (none)
  )